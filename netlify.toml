[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18"

# ===========================================
# Security Headers - Applied to all routes
# ===========================================
[[headers]]
  for = "/*"
  [headers.values]
    # Prevent clickjacking attacks
    X-Frame-Options = "DENY"
    # Prevent MIME type sniffing
    X-Content-Type-Options = "nosniff"
    # Control referrer information sent with requests
    Referrer-Policy = "strict-origin-when-cross-origin"
    # DNS prefetching control
    X-DNS-Prefetch-Control = "on"
    # Permissions Policy (formerly Feature-Policy)
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"

# Cache static assets aggressively
[[headers]]
  for = "/_astro/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/fonts/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=86400"

# Uncomment if you add a SPA route or need redirects
# [[redirects]]
#   from = "/post-a-job"
#   to = "/post-a-job/index.html"
#   status = 200
