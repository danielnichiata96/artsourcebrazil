---
import { Image } from 'astro:assets';
import Badge from './ui/Badge.astro';

export interface Props {
  title: string;
  date: Date;
  readingTime: string;
  heroImage?: string;
  class?: string;
}

const { title, date, readingTime, heroImage, class: className } = Astro.props;

const formattedDate = new Intl.DateTimeFormat('pt-BR', { dateStyle: 'long' }).format(date);
---

<div class:list={["flex flex-col border-2 border-ink bg-white shadow-hard relative overflow-hidden", className]}>
    <!-- Accent Line (Brazil Green for blog) -->
    <div class="h-4 w-full border-b-2 border-ink bg-brazil-green"></div>
    
    {heroImage && (
        <div class="w-full h-64 md:h-80 border-b-2 border-ink overflow-hidden relative">
             <img src={heroImage} alt="" class="w-full h-full object-cover" />
             <div class="absolute inset-0 bg-ink/10"></div>
        </div>
    )}

    <div class="p-6 md:p-10 flex flex-col gap-6">
        <div class="flex items-center gap-3 text-xs font-bold uppercase tracking-widest text-neutral-500">
            <time datetime={date.toISOString()}>{formattedDate}</time>
            <span>â€¢</span>
            <span class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                {readingTime}
            </span>
        </div>

        <h1 class="font-display text-4xl md:text-5xl font-bold leading-tight text-ink max-w-4xl">
            {title}
        </h1>
        
        <div class="flex items-center gap-3">
             <div class="h-10 w-10 rounded-full border-2 border-ink bg-primary flex items-center justify-center overflow-hidden">
                <span class="font-display font-bold text-lg">Br</span>
             </div>
             <div class="flex flex-col">
                 <span class="font-bold text-sm text-ink uppercase tracking-wide">Art Source Brazil</span>
                 <span class="text-xs text-neutral-500 font-medium">Editorial Team</span>
             </div>
        </div>
    </div>
</div>
